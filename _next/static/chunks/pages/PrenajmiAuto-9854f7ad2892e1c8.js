(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[348],{4314:function(t,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/PrenajmiAuto",function(){return a(741)}])},741:function(t,s,a){"use strict";a.r(s),a.d(s,{PonukaDostupnychAut:function(){return p}});var e=a(5893),n=a(7294),r=a(4369),i=a(9634),o=a(9583),d=a(381),c=a.n(d);a(4249);var u=a(1664),l=a.n(u);let h=[],x=[];class m extends n.Component{zmena(t){this.setState({[t.target.name]:t.target.value})}render(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(r.Hore,{}),(0,e.jsx)(r.ZakaznikNav,{}),(0,e.jsx)(r.Baner,{}),(0,e.jsxs)("div",{className:"home",children:[(0,e.jsx)("h5",{children:"Zadajte pros\xedm vstupn\xe9 \xfadaje a syst\xe9m v\xe1m vygeneruje všetky dostupn\xe9 aut\xe1 na požadovan\xe9 obdobie."}),(0,e.jsx)("br",{}),(0,e.jsxs)("table",{className:"home",children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:"D\xe1tum vyzdvihnutia auta"}),(0,e.jsx)("th",{children:"D\xe1tum vr\xe1tenia auta"})]})}),(0,e.jsxs)("tbody",{children:[(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{className:"pt-4 pb-4",children:(0,e.jsx)("input",{type:"date",id:"datum1",name:"datum1",onChange:t=>this.zmena(t)})}),(0,e.jsx)("td",{className:"pt-4 pb-4",children:(0,e.jsx)("input",{type:"date",id:"datum2",name:"datum2",onChange:t=>this.zmena(t)})})]}),(0,e.jsxs)("tr",{children:[(0,e.jsxs)("td",{className:"ikona",children:[(0,e.jsx)(o.$m5,{className:"garaz"}),(0,e.jsx)(o.Z1Y,{className:"sipka"}),(0,e.jsx)(o.fSn,{className:"auto"})]}),(0,e.jsxs)("td",{children:[(0,e.jsx)(o.fSn,{className:"auto"}),(0,e.jsx)(o.Z1Y,{className:"sipka"}),(0,e.jsx)(o.$m5,{className:"garaz"})]})]})]})]}),(0,e.jsx)(p,{datum1:this.state.datum1,datum2:this.state.datum2})]}),(0,e.jsx)(r.ZakaznikFoot,{}),(0,e.jsx)(r.Dole,{})]})}constructor(t){super(t),this.state={datum1:"",datum2:""}}}class p extends n.Component{componentDidMount(){h=(0,r.nacitajAuta)(),x=(0,r.nacitajZakaznikov)()}render(){if(c()(this.props.datum1).valueOf()>c()(this.props.datum2).valueOf())return alert("Auto nem\xf4žeš vr\xe1tiť sk\xf4r ako si ho požičiaš :)"),(0,e.jsx)(e.Fragment,{});if(""==this.props.datum1||""==this.props.datum2)return(0,e.jsx)(e.Fragment,{});let t=c()(this.props.datum1).valueOf(),s=c()(this.props.datum2).valueOf(),a=(s-t)/864e5;0==a&&(a=1);let n=30;a<=14&&(n=40),a<=7&&(n=50),a<=3&&(n=60);let r=a*n;return h.map(a=>{for(let e=0;e<x.length;e++)if(a.spz==x[e].spzAuta){if(t>=c()(x[e].carOut).valueOf()&&t<=c()(x[e].carIn).valueOf()||s>=c()(x[e].carOut).valueOf()&&s<=c()(x[e].carIn).valueOf()){a.dostupnost="nie";break}if(t<=c()(x[e].carOut).valueOf()&&s>=c()(x[e].carIn).valueOf()){a.dostupnost="nie";break}a.dostupnost="\xe1no"}else a.dostupnost="\xe1no"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("hr",{}),(0,e.jsxs)("table",{className:"home",children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{}),(0,e.jsx)("th",{children:"N\xe1zov"}),(0,e.jsx)("th",{style:{width:100},children:"Cena"}),(0,e.jsx)("th",{}),(0,e.jsx)("th",{})]})}),(0,e.jsx)("tbody",{children:h.map((t,s)=>{if("\xe1no"==t.dostupnost)return(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("img",{src:t.imgUrl,alt:t.nazov,height:"40"})}),(0,e.jsx)("td",{children:t.nazov}),(0,e.jsxs)("td",{children:[Math.round(t.koeficient*r)," €"]}),(0,e.jsx)("td",{className:"p-0",children:(0,e.jsx)(i.DetailAuta,{poradie:s,meno:t.nazov,img:t.imgUrl,typ:t.typ,sks:t.sks,objem:t.objem,palivo:t.palivo,spotreba:t.spotreba,dostupnost:t.dostupnost,rok:t.rok,kapacita:t.kapacita})}),(0,e.jsx)("td",{className:"p-0",children:(0,e.jsx)(l(),{href:"/FormularZakaznik?nazov=".concat(t.nazov,"&spz=").concat(t.spz,"&carOut=").concat(this.props.datum1,"&carIn=").concat(this.props.datum2,"&cena=").concat(t.koeficient*r,"&imgUrl=").concat(t.imgUrl),children:(0,e.jsx)("button",{className:"btn btn-success btn-sm",children:"prenajať"})})})]},s)})})]})]})}constructor(t){super(t)}}s.default=m}},function(t){t.O(0,[445,885,831,369,634,774,888,179],function(){return t(t.s=4314)}),_N_E=t.O()}]);