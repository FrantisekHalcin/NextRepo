(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[100],{5194:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ZoznamAutAdmin",function(){return n(5137)}])},5137:function(t,e,n){"use strict";n.r(e);var s=n(5893),a=n(7294),o=n(4369),i=n(9634),r=n(381),l=n.n(r);n(4249);var c=n(2920);let d=[],u=[],h=()=>(0,s.jsx)("span",{});class p extends a.Component{componentDidMount(){d=(0,o.nacitajAuta)(),u=(0,o.nacitajZakaznikov)(),this.setState({auta:JSON.parse(localStorage.getItem("zoznamAut")),canRender:!0})}render(){let{children:t,onSSR:e=(0,s.jsx)(h,{})}=this.props,{canRender:n}=this.state;return d.map(t=>{t.dostupnost="\xe1no";for(let e=0;e<u.length;e++)if(t.spz==u[e].spzAuta&&l()().valueOf()>l()(u[e].carOut).valueOf()&&l()().valueOf()<l()(u[e].carIn).valueOf()){t.dostupnost="nie";break}}),n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Hore,{}),(0,s.jsx)(o.AdminNav,{}),(0,s.jsxs)("div",{style:{color:"grey",textAlign:"center"},children:["počet \xe1ut ",(0,s.jsx)("strong",{children:d.length})]}),(0,s.jsx)("br",{}),(0,s.jsxs)("table",{className:"home",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{}),(0,s.jsx)("th",{children:"Auto"}),(0,s.jsx)("th",{children:"ŠPZ"}),(0,s.jsx)("th",{children:"Koeficient"}),(0,s.jsx)("th",{}),(0,s.jsx)("th",{})]})}),(0,s.jsxs)("tbody",{children:[d.map((t,e)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(i.DetailAuta,{poradie:e,meno:t.nazov,img:t.imgUrl,typ:t.typ,sks:t.sks,objem:t.objem,palivo:t.palivo,spotreba:t.spotreba,dostupnost:t.dostupnost,rok:t.rok,kapacita:t.kapacita})}),(0,s.jsx)("td",{children:t.nazov}),(0,s.jsx)("td",{children:t.spz}),(0,s.jsx)("td",{children:(0,s.jsx)("input",{type:"number",min:"1",max:"3",step:"0.1",placeholder:t.koeficient,style:{width:"49px"},onChange:e=>{t.koeficient=e.target.value}})}),(0,s.jsx)("td",{children:(0,s.jsx)("img",{src:t.imgUrl,alt:t.nazov,height:"40"})}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>{let t=d.slice(0,e),n=d.slice(e+1,d.length);d=t.concat(n),localStorage.setItem("zoznamAut",JSON.stringify(d)),this.setState({auta:(0,o.nacitajAuta)()}),(0,c.Am)("Auto bolo vymazan\xe9 zo zoznamu",{hideProgressBar:!0,autoClose:3e3,type:"error",position:"top-right"})},children:"Vymaž auto"})})]},e)),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{colSpan:3}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{className:"btn btn-secondary btn-sm p-1",onClick:()=>{localStorage.setItem("zoznamAut",JSON.stringify(d)),this.setState({auta:(0,o.nacitajAuta)()}),(0,c.Am)("Zmeny koeficientu boli uložen\xe9",{hideProgressBar:!0,autoClose:3e3,type:"warning",position:"top-right"})},children:"ulož zmeny"})}),(0,s.jsx)("td",{colSpan:2})]})]})]}),(0,s.jsx)(o.AdminFoot,{}),(0,s.jsx)(o.Dole,{})]}):e}constructor(t){super(t),this.state={canRender:!1,koeficient:""}}}e.default=p}},function(t){t.O(0,[445,885,831,369,634,774,888,179],function(){return t(t.s=5194)}),_N_E=t.O()}]);